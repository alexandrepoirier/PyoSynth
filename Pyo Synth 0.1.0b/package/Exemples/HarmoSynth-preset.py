#------------------------PATCH------------------------#
saw1 = SuperSaw(pyosynth['pitch']*pyosynth['bend']*1.01, mul=pyosynth['amp'])
saw2 = SuperSaw(pyosynth['pitch']*pyosynth['bend']*.99, mul=pyosynth['amp'])
oscMix = Mix([saw1.mix(),saw2.mix()], voices=2, mul=.5)

#fx
harmo = Harmonizer(oscMix)
harmoMix = Mix([oscMix,harmo], voices=2)
filter = Biquadx(harmoMix)
delay = SmoothDelay(filter)

mix = Mix([filter,delay], voices=2).out()



#------------------------PRESET------------------------#
preset = {0: {'adsr': (0.45, 0.07500000000000001, 0.8125, 0.6799999999999999),
     'adsr_ctlnums': (74, 74, 74, 74),
     'master': 0.8},
 1: {'attr': 'harmo.transpo',
     'ctlnum': 7,
     'exp': False,
     'floor': True,
     'max': 12.2,
     'min': -12.0,
     'name': u'Transpo',
     'port': True,
     'prec': 1,
     'val': 3.00026798248291},
 2: {'attr': 'harmo.feedback',
     'ctlnum': 74,
     'exp': False,
     'floor': False,
     'max': 1,
     'min': 0,
     'name': u'Harmo FB',
     'port': False,
     'prec': 2,
     'val': 0.7008476257324219},
 3: {'attr': 'filter.freq',
     'ctlnum': 71,
     'exp': True,
     'floor': False,
     'max': 20000.0,
     'min': 20.0,
     'name': u'Cutoff',
     'port': True,
     'prec': 1,
     'val': 4045.568115234375},
 4: {'attr': 'filter.q',
     'ctlnum': 93,
     'exp': False,
     'floor': False,
     'max': 2.0,
     'min': 0,
     'name': u'Q',
     'port': False,
     'prec': 2,
     'val': 1.086493730545044},
 5: {'attr': 'saw1.detune',
     'ctlnum': 73,
     'exp': False,
     'floor': False,
     'max': 1,
     'min': 0,
     'name': 'saw1.detune',
     'port': False,
     'prec': 2,
     'val': 0.6378554701805115},
 6: {'attr': 'saw2.detune',
     'ctlnum': 75,
     'exp': False,
     'floor': False,
     'max': 1,
     'min': 0,
     'name': 'saw2.detune',
     'port': False,
     'prec': 2,
     'val': 0.5276192426681519},
 9: {'attr': 'delay.delay',
     'ctlnum': 114,
     'exp': False,
     'floor': False,
     'max': 0.2,
     'min': 0,
     'name': u'Delay',
     'port': True,
     'prec': 3,
     'val': 0.14487744867801666},
 10: {'attr': 'delay.feedback',
      'ctlnum': 76,
      'exp': False,
      'floor': False,
      'max': 1,
      'min': 0,
      'name': u'Feedback',
      'port': False,
      'prec': 2,
      'val': 0.5118712186813354},
 11: {'attr': 'delay.mul',
      'ctlnum': 77,
      'exp': False,
      'floor': False,
      'max': 1,
      'min': 0,
      'name': u'Delay vol',
      'port': False,
      'prec': 1,
      'val': 0.2914007604122162},
 12: {'attr': 'mix.mul',
      'ctlnum': 91,
      'exp': False,
      'floor': False,
      'max': 1,
      'min': 0,
      'name': u'Vol',
      'port': False,
      'prec': 2,
      'val': 0.7717137336730957}}

pyosynth.setPreset(preset)